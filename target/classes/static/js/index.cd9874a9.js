(function(e){function t(t){for(var n,o,i=t[0],s=t[1],c=t[2],d=0,f=[];d<i.length;d++)o=i[d],r[o]&&f.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(n=!1)}n&&(l.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={index:0},l=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=s;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1178:function(e,t,a){},1697:function(e,t,a){"use strict";var n=a("7f24"),r=a.n(n);r.a},"1e40":function(e,t,a){"use strict";var n=a("966c"),r=a.n(n);r.a},"1f59":function(e,t,a){},"263c":function(e,t,a){},"273b":function(e,t,a){"use strict";var n=a("bcbf"),r=a.n(n);r.a},"2a4a":function(e,t,a){"use strict";var n=a("4a14"),r=a.n(n);r.a},"2ee0":function(e,t,a){},3344:function(e,t,a){"use strict";var n=a("263c"),r=a.n(n);r.a},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=l(e);return a(t)}function l(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id="4678"},"4a14":function(e,t,a){},"4d50":function(e,t,a){},5075:function(e,t,a){},"50c2":function(e,t,a){},"517f":function(e,t,a){"use strict";var n=a("8f27"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("el-container",[a("el-header",{staticStyle:{"text-align":"center"}},[a("el-row",[a("el-col",{attrs:{span:2}},[a("a",{attrs:{href:"/#/"}},[e._v("系统图标")])]),a("el-col",{attrs:{span:20}},[a("el-menu",{attrs:{"default-active":"/event",mode:"horizontal",router:"","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[a("el-menu-item",{attrs:{index:"/event"}},[e._v("活动记录")]),a("el-menu-item",{attrs:{index:"/categorylist"}},[e._v("物资管理")]),a("el-menu-item",{attrs:{index:"/charitylist"}},[e._v("行善方管理")]),a("el-menu-item",{attrs:{index:"/difflist"}},[e._v("受善方管理")]),a("el-submenu",{attrs:{index:"fields"}},[a("template",{slot:"title"},[e._v("字段设置")]),a("el-menu-item",{attrs:{index:"/settings/event_type"}},[e._v("活动类型")]),a("el-menu-item",{attrs:{index:"/settings/res_type"}},[e._v("物资类型")]),a("el-menu-item",{attrs:{index:"/settings/charity_type"}},[e._v("行善方类型")]),a("el-menu-item",{attrs:{index:"/settings/diff_type"}},[e._v("受善方类型")])],2),a("el-submenu",{attrs:{index:"permission"}},[a("template",{slot:"title"},[e._v("系统权限")]),a("el-menu-item",{attrs:{index:"/settings/adminDept"}},[e._v("部门管理")]),a("el-menu-item",{attrs:{index:"/settings/adminMenu"}},[e._v("菜单管理")]),a("el-menu-item",{attrs:{index:"/settings/adminRole"}},[e._v("角色管理")]),a("el-menu-item",{attrs:{index:"/settings/adminSysUser"}},[e._v("用户管理")])],2),a("el-menu-item",{attrs:{index:"/center"}},[e._v("个人中心")])],1)],1),a("el-col",{attrs:{span:2}},[a("a",{attrs:{href:"/j_spring_security_logout"}},[e._v("退出登录")])])],1)],1),a("el-main",{staticStyle:{"min-height":"800px"}},[a("router-view")],1)],1)],1)},l=[],o={data:function(){return{timer:null}},created:function(){var e=this;this.timer=setInterval(function(){return e.$http.get("/api/heartbeat")},12e4)},destroyed:function(){clearInterval(this.timer)}},i=o,s=(a("7c55"),a("2877")),c=Object(s["a"])(i,r,l,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,d=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("router-view")],1)},m=[],p={name:"home",components:{}},h=p,g=Object(s["a"])(h,f,m,!1,null,null,null);g.options.__file="Home.vue";var v=g.exports,b=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{attrs:{placeholder:"请输入姓名",size:"small"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"编号"}},[n("el-input",{attrs:{placeholder:"请输入编号",size:"small"},model:{value:t.form.user_id_eq,callback:function(e){t.$set(t.form,"user_id_eq",e)},expression:"form.user_id_eq"}})],1),n("el-form-item",{attrs:{label:"手机号"}},[n("el-input",{attrs:{placeholder:"请输入手机号",size:"small",maxlength:"11"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("el-form-item",{attrs:{label:"性别"}},[n("el-select",{attrs:{size:"small",placeholder:"选择性别",transfer:""},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[n("el-option",{attrs:{label:"全部",value:null}}),t._l(t.genders,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1),n("el-form-item",[n("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:t.refresh}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(e){t.doAdd()}}},[t._v("添加")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,"element-loading-text":"正在加载......",border:""}},[n("el-table-column",{attrs:{prop:"user_id",label:"编号"}}),n("el-table-column",{attrs:{prop:"name",label:"姓名"}}),n("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),n("el-table-column",{attrs:{prop:"gender",label:"性别"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("gender-filter")(e.row.gender)))])]}}])}),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("question_enable")(e.row.status)))])]}}])}),n("el-table-column",{attrs:{prop:"dept_name",label:"部门名称"}}),n("el-table-column",{attrs:{prop:"wechat",label:"微信号"}}),n("el-table-column",{attrs:{prop:"remark",label:"备注"}}),n("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-button",{attrs:{disabled:1==e.row.user_id,type:"text"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{disabled:1==e.row.user_id,type:"text"},on:{click:function(a){t.doRole(e.row)}}},[t._v("关联角色")]),n("el-button",{attrs:{disabled:1==e.row.user_id,type:"text"},on:{click:function(a){t.doDelete(e.row)}}},[t._v("删除")]),n("el-button",{attrs:{disabled:1==e.row.user_id,type:"text"},on:{click:function(a){t.openDialog(e.row)}}},[t._v("重置密码")])],1)]}}])})],1),n("br"),t.total>0?n("div",{staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,15,20,25,30],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":function(t){e.size=t,e.refresh()},"current-change":function(t){e.page=t,e.refresh()},"update:currentPage":function(e){t.page=e}}})],1):t._e(),n("AdminSysUserDialog",{ref:"dialog",attrs:{refresh:t.refresh}}),n("RoleList",{ref:"RoleList"}),n("el-dialog",{ref:"passDialog",attrs:{title:"重置密码",visible:t.isShow,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(e){t.isShow=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{staticStyle:{width:"75%"},attrs:{placeholder:"请输入密码",maxlength:"20"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),n("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.isShow=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.changePassword()}}},[t._v("确定")])],1)],1)],1)},_=[],y=a("c93e"),w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"800px"},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门",prop:"dept_name"}},[a("el-popover",{ref:"deptPopover",attrs:{placement:"right",title:"请选择部门",width:"400",trigger:"click"},on:{show:e.setPopoverDeptId},model:{value:e.showSearchBox,callback:function(t){e.showSearchBox=t},expression:"showSearchBox"}},[a("AdminDeptTreeDialog",{ref:"PopoverDialog",attrs:{selectDept:e.selectDept}})],1),a("el-input",{directives:[{name:"popover",rawName:"v-popover:deptPopover",arg:"deptPopover"}],attrs:{placeholder:"请输入部门",readonly:"","auto-complete":"off"},model:{value:e.form.dept_name,callback:function(t){e.$set(e.form,"dept_name",t)},expression:"form.dept_name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择性别",transfer:""},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},e._l(e.genders,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信号",prop:"wechat"}},[a("el-input",{attrs:{placeholder:"请输入微信号"},model:{value:e.form.wechat,callback:function(t){e.$set(e.form,"wechat",t)},expression:"form.wechat"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0,"inactive-text":"禁用","active-text":"启用"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)],1)},x=[];a("7f7f"),a("a481"),a("386d"),a("4917"),a("3b2b");var k={GENDER_MALE:1,GENDER_FEMALE:2},$=[{id:k.GENDER_MALE,name:"男"},{id:k.GENDER_FEMALE,name:"女"}],j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"400px",overflow:"auto"}},[a("hr"),a("el-tree",{attrs:{data:e.menus,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},on:{"node-click":e.selectDept},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("span",{staticClass:"custom-tree-node"},[a("el-radio-group",{model:{value:e.department_id,callback:function(t){e.department_id=t},expression:"department_id"}},[a("el-radio",{attrs:{label:n.dept_id,"v-model":n.dept_id}},[e._v(" "+e._s(n.name))])],1)],1)}}])})],1)},D=[],z={props:["selectDept"],data:function(){return{menus:[],department_id:null}},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.$http.post("/api/adminDept/getTree").then(function(t){e.menus=t.data})},setDeptId:function(e){this.department_id=e}}},S=z,L=(a("bdd9"),Object(s["a"])(S,j,D,!1,null,null,null));L.options.__file="AdminDeptTreeDialog.vue";var O=L.exports,E={props:["refresh"],data:function(){return{title:"",form:this.initForm(),showSearchBox:!1,dialogMode:"save",show:!1,rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:8,message:"姓名长度2到8个字符",trigger:"blur"}],department_id:[{required:!0,message:"请选择部门",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"手机号长度不正确",trigger:"blur"}]}}},computed:{genders:function(){return $}},methods:{save:function(){var e=this;this.$refs["form"].validate(function(t){t&&e.$http.post("/api/adminSysUser/validatePhone",JSON.stringify({user_id:e.form.user_id,phone_eq:e.form.phone})).then(function(t){!0===t.data.success?e.$http.post("/api/adminSysUser/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}):1===t.data.code&&e.$message.error("手机号码不能重复!")})})},initForm:function(){return{user_id:null,name:null,code:null,phone:null,gender:1,status:1,department_id:null,wechat:null,remark:null,dept_name:null}},addDialog:function(){this.title="新增用户 默认密码[888888]",this.dialogMode="save",this.form=this.initForm(),this.show=!0},editDialog:function(e){this.title="修改用户",this.dialogMode="update",this.form=Object(y["a"])({},e),this.form.headName=e.dept_name,this.show=!0},selectDept:function(e){this.showSearchBox=!1,this.form=Object(y["a"])({},this.form,{department_id:e.dept_id,dept_name:e.name})},setPopoverDeptId:function(){this.$refs["PopoverDialog"].setDeptId(this.form.department_id)}},components:{AdminDeptTreeDialog:O}},N=E,q=(a("de8e"),Object(s["a"])(N,w,x,!1,null,null,null));q.options.__file="AdminSysUserDialog.vue";var T=q.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"关联角色",visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(t){e.show=t}}},[a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dataList,border:""},on:{"selection-change":e.onSelectChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"remark",label:"备注"}})],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确定")])],1)])},A=[],F={data:function(){return{dataList:[],show:!1,roleIds:[],userId:null}},computed:{},created:function(){},methods:{refresh:function(e){var t=this,a=this;a.$http.post("/api/adminRole/queryList",{}).then(function(n){a.dataList=n.data,a.$http.post("/api/adminUserRole/queryList",{user_id:e}).then(function(e){e.data.map(function(e){a.dataList.map(function(a){a.id===e.role_id&&t.$refs.multipleTable.toggleRowSelection(a,!0)})})})})},onSelectChange:function(e){this.selectId=e.map(function(e){return e.id})},save:function(){var e=this,t=this,a=this.selectId.map(function(e){return{user_id:t.userId,role_id:e}});t.$http.post("/api/adminUserRole/insertBatch?user_id="+t.userId,a).then(function(t){e.show=!1,e.$message.success("授权成功")})},showList:function(e){this.userId=e.user_id,this.show=!0,this.refresh(e.user_id)}},components:{}},J=F,C=(a("a9a8"),Object(s["a"])(J,M,A,!1,null,null,null));C.options.__file="RoleList.vue";var B=C.exports,R={data:function(){return{total:0,page:1,size:20,dataList:[],isShow:!1,user_id:null,form:{user_id_eq:null,name:null,phone:null,gender:null,status:null,department_id:null,wechat:null,remark:null,dept_name:null,password:null,user_id:null},rules:{password:[{required:!0,message:"请输入重置密码",trigger:"blur"},{min:6,max:20,message:"姓名长度6到20个字符",trigger:"blur"}]},loading:!1}},computed:{genders:function(){return $}},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form,{page:e.page-1,size:e.size});e.$http.post("/api/adminSysUser/queryPage",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data.content,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取用户列表失败："+t),e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doRole:function(e){this.$refs["RoleList"].showList(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmbuttontext:"确定",cancelbuttontext:"取消",type:"warning"}).then(function(){a.$http.delete("/api/adminsysuser/delete",{params:{ids:[e.user_id]}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})},openDialog:function(e){this.isShow=!0,this.user_id=e.user_id},changePassword:function(){var e=this,t=this;this.$refs["form"].validate(function(a){a&&t.$http.post("/api/adminSysUser/updatePassword",JSON.stringify(Object(y["a"])({},t.form,{user_id:e.user_id}))).then(function(a){t.form.password=null,t.isShow=!1,e.$message.success("重置密码成功!"),t.refresh()})})}},components:{AdminSysUserDialog:T,RoleList:B}},P=R,U=(a("970b"),Object(s["a"])(P,b,_,!1,null,null,null));U.options.__file="AdminSysUserList.vue";var I=U.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("刷新")]),a("hr"),a("div",{staticStyle:{height:"500px",overflow:"auto",width:"450px"}},[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menus,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"element-loading-text":"正在加载......"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[e._v(e._s(r.name)+"\n        "),a("span",{staticStyle:{"margin-left":"30px"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.doAdd(r)}}},[e._v("添加子部门")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.doEdit(n,r)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"mini",disabled:0==r.parent_id},on:{click:function(){return e.doDelete(n,r)}}},[e._v("删除")])],1)])}}])})],1),a("hr"),a("AdminDeptDialog",{ref:"dialog",attrs:{refresh:e.refresh}})],1)},G=[],H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"上级部门"}},[e._v(e._s(e.form.parent_name))]),a("el-form-item",{attrs:{label:"部门名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"可用标志"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0,"inactive-text":"禁用","active-text":"启用"},model:{value:e.form.enable,callback:function(t){e.$set(e.form,"enable",t)},expression:"form.enable"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注",type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")]),a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")])],1)],1)},K=[],Q={props:["refresh"],data:function(){return{title:"",form:this.initForm(),dialogMode:"save",show:!1,rules:{name:[{required:!0,message:"请输入部门名称",trigger:"blur"},{min:2,max:10,message:"部门名称2到10个字符",trigger:"blur"}]}}},methods:{save:function(){var e=this;this.$refs["form"].validate(function(t){t&&e.$http.post("/api/adminDept/validate",JSON.stringify({dept_id:e.form.dept_id,name:e.form.name})).then(function(t){!0===t.data.success?e.$http.post("/api/adminDept/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}):1===t.data.code&&e.$message.error(t.data.errorMsg)})})},initForm:function(){return{dept_id:null,parent_id:null,name:null,enable:1,remark:null,parent_name:null}},addDialog:function(e){this.title="新增部门",this.dialogMode="save",this.form=this.initForm(),this.form.parent_id=e.dept_id,this.show=!0,this.form.parent_name=e.name},editDialog:function(e){this.title="修改部门",this.dialogMode="update",this.form=Object(y["a"])({},e),this.show=!0,this.form.parent_name=e.parent_name}},components:{}},V=Q,W=(a("70b1"),Object(s["a"])(V,H,K,!1,null,null,null));W.options.__file="AdminDeptDialog.vue";var X=W.exports,Z={data:function(){return{menus:[],ids:[],form:{dept_id:null,branch_id:null,parent_id:null,name:null,enable:null,remark:null},loading:!1}},computed:{},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0,e.$http.post("/api/adminDept/getTree").then(function(t){e.loading=!1,e.menus=t.data,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取部门数据失败："+t),e.loading=!1})},doAdd:function(e){this.$refs["dialog"].addDialog(e)},doEdit:function(e,t){console.log(e),this.$refs["dialog"].editDialog(t)},doDelete:function(e,t){var a=this,n=this;t.children.length>0?n.$message.error("请先删除子结点!"):this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$http.delete("/api/adminDept/delete",{params:{ids:[t.dept_id]}}).then(function(e){a.$message.success("删除成功"),n.refresh()}).catch(function(e){n.$message.error("删除失败："+e)})})}},components:{AdminDeptDialog:X}},ee=Z,te=(a("dc3a"),Object(s["a"])(ee,Y,G,!1,null,null,null));te.options.__file="AdminDeptList.vue";var ae=te.exports,ne=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{placeholder:"请输入名称",size:"small"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{attrs:{placeholder:"请输入备注",size:"small"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1),n("el-form-item",[n("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:t.refresh}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(e){t.doAdd()}}},[t._v("添加")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,"element-loading-text":"正在加载......",border:""}},[n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"remark",label:"备注"}}),n("el-table-column",{attrs:{label:"操作",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doDelete(e.row)}}},[t._v("删除")]),n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doChangeFunc(e.row)}}},[t._v("功能权限")]),n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doOpenDeptTree(e.row)}}},[t._v("数据授权")])],1)]}}])})],1),n("br"),t.total>0?n("div",{staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{total:t.total,"current-page":t.page,"page-sizes":[10,15,20,25,30],"page-size":t.size,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":function(t){e.size=t,e.refresh()},"current-change":function(t){e.page=t,e.refresh()},"update:currentPage":function(e){t.page=e}}})],1):t._e(),n("AdminRoleDialog",{ref:"dialog",attrs:{refresh:t.refresh}}),n("FunList",{ref:"funcList"}),n("DeptTree",{ref:"deptTree"})],1)},re=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"请输入备注",type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)],1)},oe=[],ie={props:["refresh"],data:function(){return{title:"",form:this.initForm(),dialogMode:"save",show:!1,rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:10,message:"名称长度为2到10个字符",trigger:"blur"}]}}},methods:{save:function(){var e=this;this.$refs["form"].validate(function(t){t&&e.$http.post("/api/adminRole/validateName",JSON.stringify({id:e.form.id,name:e.form.name})).then(function(t){!0===t.data.success?e.$http.post("/api/adminRole/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}):1===t.data.code&&e.$message.error(t.data.errorMsg)})})},initForm:function(){return{id:null,name:null,remark:null}},addDialog:function(){this.title="新增角色",this.dialogMode="save",this.form=this.initForm(),this.show=!0},editDialog:function(e){this.title="修改角色",this.dialogMode="update",this.form=Object(y["a"])({},e),this.show=!0}},components:{}},se=ie,ce=(a("9d6c"),Object(s["a"])(se,le,oe,!1,null,null,null));ce.options.__file="AdminRoleDialog.vue";var ue=ce.exports,de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"功能权限",visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(t){e.show=t}}},[a("p",[e._v("当前角色："+e._s(this.role_name))]),a("div",{staticStyle:{height:"500px",overflow:"auto"}},[a("el-tree",{ref:"tree",attrs:{data:e.dataList,"show-checkbox":"","node-key":"func_id","default-expand-all":"","expand-on-click-node":!1},on:{check:e.changeSelect},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("span",{staticClass:"custom-tree-node"},[e._v(e._s(n.name))])}}])})],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)])},fe=[],me={data:function(){return{func_ids:[],role_name:null,role_id:null,dataList:[],show:!1,rules:{}}},methods:{refresh:function(e){var t=this,a=this;Object(y["a"])({},a.form,{page:a.page-1,size:a.size});a.$http.post("/api/adminFunc/getTree").then(function(n){a.dataList=n.data,a.$http.post("/api/adminRoleFunc/queryList",{role_id:e}).then(function(e){t.$refs.tree.setCheckedKeys(e.data.map(function(e){return e.user_id}))})})},save:function(){var e=this,t=this,a=[];a=a.concat(this.$refs["tree"].getHalfCheckedKeys()),a=a.concat(this.$refs["tree"].getCheckedKeys()),console.log(a);var n=a.map(function(e){return{role_id:t.role_id,user_id:e}});t.$http.post("/api/adminRoleFunc/insertBatch?role_id="+t.role_id,n).then(function(t){e.show=!1,e.$message.success("授权成功")})},addDialog:function(e){this.role_id=e.id,this.role_name=e.name,this.show=!0,this.refresh(e.id)},changeSelect:function(e,t){}}},pe=me,he=(a("8497"),Object(s["a"])(pe,de,fe,!1,null,null,null));he.options.__file="FunList.vue";var ge=he.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"500px"},on:{"update:visible":function(t){e.show=t}}},[a("p",[e._v("当前角色："+e._s(this.role_name))]),a("div",{staticStyle:{height:"500px",overflow:"auto"}},[a("el-tree",{ref:"tree",attrs:{data:e.dataList,"show-checkbox":"","node-key":"dept_id","default-expand-all":"","expand-on-click-node":!1},on:{check:e.changeTree},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("span",{staticClass:"custom-tree-node"},[e._v(e._s(n.name))])}}])})],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)])},be=[],_e={data:function(){return{dept_ids:[],role_name:null,role_id:null,dataList:[],title:"",show:!1}},created:function(){},methods:{refresh:function(e){var t=this,a=this;a.$http.post("/api/adminDept/getTree").then(function(n){a.dataList=n.data,a.$http.post("api/adminRoleDept/queryList",{role_id:e}).then(function(e){t.$refs.tree.setCheckedKeys(e.data.map(function(e){return e.dept_id}))})}).catch(function(e){a.$message.error("获取菜单列表失败："+e)})},save:function(){var e=this,t=this,a=[];this.dept_ids.map(function(e){return a.push({role_id:t.role_id,dept_id:e})}),t.$http.post("/api/adminRoleDept/insertBatch?role_id="+t.role_id,a).then(function(t){e.show=!1,e.$message.success("授权成功")})},addDialog:function(e){this.title="数据权限",this.role_id=e.id,this.role_name=e.name,this.show=!0,this.refresh(e.id)},changeTree:function(e,t){this.dept_ids=t.checkedNodes.map(function(e){return e.dept_id})}},components:{}},ye=_e,we=(a("9a32"),Object(s["a"])(ye,ve,be,!1,null,null,null));we.options.__file="DeptTree.vue";var xe=we.exports,ke={data:function(){return{total:0,page:1,size:20,dataList:[],form:{id:null,name:null,remark:null},loading:!1}},computed:{},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form,{page:e.page-1,size:e.size});e.$http.post("/api/adminRole/queryPage",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data.content,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取角色列表失败："+t),e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/adminRole/delete",{params:{ids:[e.id]}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})},doChangeFunc:function(e){this.$refs["funcList"].addDialog(e)},doOpenDeptTree:function(e){this.$refs["deptTree"].addDialog(e)}},components:{AdminRoleDialog:ue,FunList:ge,DeptTree:xe}},$e=ke,je=(a("a967"),Object(s["a"])($e,ne,re,!1,null,null,null));je.options.__file="AdminRoleList.vue";var De=je.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.refresh}},[e._v("刷新")]),a("hr"),a("div",{staticStyle:{overflow:"auto",height:"600px",width:"450px"}},[a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,draggable:"","element-loading-text":"正在加载......","allow-drop":e.allowDrop,"allow-drag":e.allowDrag},on:{"node-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[e._v("\n        "+e._s(r.name)+"\n        "),a("span",{staticStyle:{"margin-left":"30px"}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.doAdd(r)}}},[e._v("添加子菜单")]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.doEdit(r)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"mini",disabled:0==r.parent_id},on:{click:function(){return e.doDelete(n,r)}}},[e._v("删除")])],1)])}}])})],1),a("hr"),a("AdminFuncDialog",{ref:"dialog",attrs:{refresh:e.refresh}})],1)},Se=[],Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"800px"},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":0,"inactive-text":"禁用","active-text":"启用"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-input",{attrs:{placeholder:"请输入图标"},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"提示信息",prop:"tip"}},[a("el-input",{attrs:{placeholder:"请输入提示信息"},model:{value:e.form.tip,callback:function(t){e.$set(e.form,"tip",t)},expression:"form.tip"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排序编号",prop:"order_num"}},[a("el-input",{attrs:{placeholder:"请输入排序编号"},model:{value:e.form.order_num,callback:function(t){e.$set(e.form,"order_num",t)},expression:"form.order_num"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{value:1,label:"菜单"}}),a("el-option",{attrs:{value:2,label:"按钮"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"颜色"}},[a("el-input",{attrs:{placeholder:"请输入颜色"},model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{placeholder:"请输入备注",type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")]),a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")])],1)],1)},Oe=[],Ee={props:["refresh"],data:function(){return{title:"",form:this.initForm(),dialogMode:"save",show:!1,rules:{icon:[{required:!0,message:"请输入图标",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:10,message:"名称长度为2到10个字符",trigger:"blur"}],tip:[{required:!0,message:"请输入提示信息",trigger:"blur"},{min:2,max:10,message:"提示信息为2到10个字符",trigger:"blur"}],status:[{required:!0,message:"请输入状态",trigger:"blur"}],order_num:[{required:!0,message:"请输入排序编号",trigger:"blur"}]}}},methods:{save:function(){var e=this;this.$refs["form"].validate(function(t){t&&e.$http.post("/api/adminFunc/validate",JSON.stringify({func_id:e.form.func_id,name:e.form.name})).then(function(t){!0===t.data.success?e.$http.post("/api/adminFunc/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}):1===t.data.code&&e.$message.error(t.data.errorMsg)})})},initForm:function(){return{func_id:null,type:1,color:null,icon:null,name:null,parent_id:null,tip:null,remark:null,status:1,url:null,order_num:null}},addDialog:function(e){this.title="新增菜单",this.dialogMode="save",this.form=this.initForm(),this.form.parent_id=e,this.show=!0},editDialog:function(e){this.title="修改菜单",this.dialogMode="update",this.form=Object(y["a"])({},e),this.show=!0}},components:{}},Ne=Ee,qe=(a("3344"),Object(s["a"])(Ne,Le,Oe,!1,null,null,null));qe.options.__file="AdminFuncDialog.vue";var Te=qe.exports,Me={data:function(){return{list:[],total:0,page:1,size:20,dataList:[],form:{func_id:null,type:null,color:null,icon:null,name:null,parent_id:null,tip:null,remark:null,status:null,url:null,order_num:null},loading:!1}},computed:{},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0;Object(y["a"])({},e.form,{page:e.page-1,size:e.size});e.$http.post("/api/adminFunc/getTree").then(function(t){e.loading=!1,e.dataList=t.data,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取菜单列表失败："+t),e.loading=!1})},doAdd:function(e){this.$refs["dialog"].addDialog(e.func_id)},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e,t){var a=this,n=this;t.children.length>0?n.$message.error("请先删除子结点!"):this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$http.delete("/api/adminFunc/delete",{params:{ids:[t.func_id]}}).then(function(e){a.$message.success("删除成功"),n.refresh()}).catch(function(e){n.$message.error("删除失败："+e)})}).catch(function(){})},handleDrop:function(e,t,a,n){var r=this;console.log(e),console.log(t),console.log(a),console.log(n);var l=this;l.list.push(e.data),l.list.push(t.data),l.$http.post("/api/adminFunc/dragMove?type="+a,l.list).then(function(e){r.show=!1,r.$message.success("拖拽成功")}).catch(function(e){l.$message.error("拖拽失败："+e)})},allowDrop:function(e,t,a){return 0!=t.data.parent_id||"prev"!==a&&"next"!==a},allowDrag:function(e){return console.log(e),0!=e.data.parent_id}},components:{AdminFuncDialog:Te}},Ae=Me,Fe=(a("ce91"),Object(s["a"])(Ae,ze,Se,!1,null,null,null));Fe.options.__file="AdminFuncList.vue";var Je=Fe.exports,Ce=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("el-form",{attrs:{inline:!0,"label-width":"60px"}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[n("el-option",{attrs:{label:"全部",value:-1}}),t._l(t.typeList,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{placeholder:"活动名称",size:"small"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",[n("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:t.refresh}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(e){t.doAdd()}}},[t._v("添加")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,"element-loading-text":"正在加载......"}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"类型"}},[t._v(t._s(e.row.type_name))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"名称"}},[t._v(t._s(e.row.name))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"内容"}},[t._v(t._s(e.row.content))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"目标机构/电话"}},[t._v(t._s(e.row.target_name)+"/"+t._s(e.row.target_phone)+"\n                            ")])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"活动时间"}},[t._v(t._s(t._f("date_filter")(e.row.event_time)))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"备注"}},[t._v(t._s(e.row.remark))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"主导人/手机"}},[t._v(t._s(e.row.charity_name)+"/"+t._s(e.row.chairmain_pnone)+"\n                            ")])],1)],1)],1)]}}])}),n("el-table-column",{attrs:{prop:"id",label:"编号",width:"60"}}),n("el-table-column",{attrs:{prop:"type_name",label:"类型",width:"60"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"status",label:"状态",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("event_status_filter")(e.row.status))+"\n            ")]}}])}),n("el-table-column",{attrs:{prop:"charity_name",label:"主导人"}}),n("el-table-column",{attrs:{prop:"target_name",label:"目标机构"}}),n("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doShowJoin(e.row)}}},[t._v("参与人列表")]),n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")])],1)]}}])})],1),n("br"),t.total>0?n("div",{staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{small:"",layout:"sizes,prev, pager, next","current-page":t.page,total:t.total,"page-sizes":[10,15,20,100],"page-size":t.size},on:{"current-change":function(t){e.page=t,e.refresh()},"size-change":function(t){e.size=t,e.refresh()}}})],1):t._e(),n("CharityEventDialog",{ref:"dialog",attrs:{refresh:t.refresh}}),n("JoinListDialog",{ref:"joinDialog"})],1)},Be=[],Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"活动名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"活动名称",size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"活动时间",prop:"event_time"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:e.form.event_time,callback:function(t){e.$set(e.form,"event_time",t)},expression:"form.event_time"}},[e._v('\n                        type="date"\n                        placeholder="选择日期">\n                    ')])],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"主导人/机构",prop:"chairman_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",placeholder:"主导人/机构","remote-method":e.queryCharityList,loading:e.loading},model:{value:e.form.chairman_id,callback:function(t){e.$set(e.form,"chairman_id",t)},expression:"form.chairman_id"}},e._l(e.charityList,function(e){return a("el-option",{key:e.id,attrs:{label:e.charity_name,value:e.id}})}))],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"主导人电话",prop:"chairmain_pnone"}},[a("el-input",{attrs:{placeholder:"主导人电话",size:"small"},model:{value:e.form.chairmain_pnone,callback:function(t){e.$set(e.form,"chairmain_pnone",t)},expression:"form.chairmain_pnone"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目标人/机构",prop:"target_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",placeholder:"目标人/机构","remote-method":e.queryDiffList,loading:e.loadingDiff},model:{value:e.form.target_id,callback:function(t){e.$set(e.form,"target_id",t)},expression:"form.target_id"}},e._l(e.diffList,function(e){return a("el-option",{key:e.id,attrs:{label:e.charity_name,value:e.id}})}))],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"目标电话",prop:"target_phone"}},[a("el-input",{attrs:{placeholder:"目标电话",size:"small"},model:{value:e.form.target_phone,callback:function(t){e.$set(e.form,"target_phone",t)},expression:"form.target_phone"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"活动内容",prop:"content"}},[a("el-input",{attrs:{placeholder:"活动内容",type:"textarea",size:"small"},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"活动备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"活动备注",type:"textarea",size:"small"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)],1)},Pe=[],Ue={props:["refresh"],data:function(){return{title:"",form:this.initForm(),dialogMode:"save",show:!1,rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"}],type:[{required:!0,message:"请选择活动类型",trigger:"blur"}],event_time:[{required:!0,message:"请选择活动时间",trigger:"blur"}],content:[{required:!0,message:"请输入活动内容",trigger:"blur"}],chairman_id:[{required:!0,message:"请选择主导人",trigger:"blur"}],chairmain_pnone:[{required:!0,message:"请输入主导人手机",trigger:"blur"}],target_id:[{required:!0,message:"请选择目标人",trigger:"blur"}],target_phone:[{required:!0,message:"请输入目标手机",trigger:"blur"}]},loading:!1,loadingDiff:!1,charityList:[],diffList:[],typeList:[]}},created:function(){this.loadTypes(1)},methods:{loadTypes:function(e){var t=this;t.$http.post("/api/dict/queryList",JSON.stringify({type:e})).then(function(e){t.typeList=e.data}).catch(function(e){t.$message.error("获取类型："+res)})},save:function(){var e=this;this.$refs["form"].validate(function(t){t&&e.$http.post("/api/charityEvent/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}).catch(function(t){e.$message.error(e.title+"出错!"+t)})})},initForm:function(){return{id:null,type:null,name:null,content:null,chairman_id:null,target_id:null,event_time:null,author:null,remark:null,chairmain_pnone:null,target_phone:null,status:null,create_time:null}},addDialog:function(){this.title="新增善行活动",this.dialogMode="save",this.form=this.initForm(),this.show=!0},editDialog:function(e){this.title="修改善行活动",this.dialogMode="update",this.form=Object(y["a"])({},e),this.show=!0},queryCharityList:function(e){var t=this;t.loading=!0,t.$http.post("/api/charity/queryList",JSON.stringify({charity_name:e,category:1})).then(function(e){t.charityList=e.data,t.loading=!1}).catch(function(e){t.$message.error("获取行善方类型："+e),t.loading=!1})},queryDiffList:function(e){var t=this;t.loadingDiff=!0,t.$http.post("/api/charity/queryList",JSON.stringify({charity_name:e,category:2})).then(function(e){t.diffList=e.data,t.loadingDiff=!1}).catch(function(e){t.$message.error("获取受善方类型："+e),t.loadingDiff=!1})}},components:{}},Ie=Ue,Ye=(a("80af"),Object(s["a"])(Ie,Re,Pe,!1,null,null,null));Ye.options.__file="CharityEventDialog.vue";var Ge=Ye.exports,He=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"参与人列表",visible:t.show,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.show=e}}},[n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",placeholder:"参与人","remote-method":t.queryCharityList,loading:t.loadingUser},model:{value:t.form.user_id,callback:function(e){t.$set(t.form,"user_id",e)},expression:"form.user_id"}},t._l(t.charityList,function(e){return n("el-option",{key:e.id,attrs:{label:e.charity_name,value:e.id}})}))],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(e){t.doAdd()}}},[t._v("添加")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,"element-loading-text":"正在加载......"}},[n("el-table-column",{attrs:{prop:"event_name",label:"活动"}}),n("el-table-column",{attrs:{prop:"join_user_name",label:"参与人"}}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doDelete(e.row)}}},[t._v("删除")])],1)]}}])})],1),n("br"),t.total>0?n("div",{staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{small:"",layout:"sizes,prev, pager, next","current-page":t.page,total:t.total,"page-sizes":[10,15,20,100],"page-size":t.size},on:{"current-change":function(t){e.page=t,e.refresh()},"size-change":function(t){e.size=t,e.refresh()}}})],1):t._e()],1)])},Ke=[],Qe={data:function(){return{show:!1,total:0,page:1,size:20,dataList:[],loadingUser:!1,loading:!1,form:{id:null,event_id:null,user_id:null},charityList:[]}},methods:{queryCharityList:function(e){var t=this;t.loadingUser=!0,t.$http.post("/api/charity/queryList",JSON.stringify({charity_name:e,category:1})).then(function(e){t.charityList=e.data,t.loadingUser=!1}).catch(function(e){t.$message.error("获取行善方类型："+e),t.loadingUser=!1})},showDialog:function(e){this.refresh(),this.form=Object(y["a"])({},this.form,{event_id:e}),this.show=!0},refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form,{page:e.page-1,size:e.size});e.$http.post("/api/eventUser/queryPage",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data.content,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取活动参与方列表失败："+t),e.loading=!1})},doAdd:function(){var e=this;e.$http.post("/api/eventUser/save",JSON.stringify(e.form)).then(function(t){e.$message.success("添加成功!"),e.refresh()}).catch(function(t){e.$message.error("添加失败!"+t)})},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/eventUser/delete",{params:{id:e.id}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{}},Ve=Qe,We=(a("1e40"),Object(s["a"])(Ve,He,Ke,!1,null,null,null));We.options.__file="JoinListDialog.vue";var Xe=We.exports,Ze={data:function(){return{total:0,page:1,size:20,dataList:[],form:{id:null,type:null,name:null,content:null,chairman_id:null,target_id:null,event_time:null,author:null,remark:null,chairmain_pnone:null,target_phone:null,status:null,create_time:null},typeList:[],loading:!1}},computed:{},created:function(){this.refresh(),this.loadTypes(1)},methods:{loadTypes:function(e){var t=this;t.$http.post("/api/dict/queryList",JSON.stringify({type:e})).then(function(e){t.typeList=e.data}).catch(function(e){t.$message.error("获取类型："+res)})},refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form,{page:e.page-1,size:e.size});-1==t.type&&(t.type=null),e.$http.post("/api/charityEvent/queryPage",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data.content,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取善行活动列表失败："+t),e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/charityEvent/delete",{params:{ids:[e.id]}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})},doShowJoin:function(e){this.$refs["joinDialog"].showDialog(e.id)}},components:{CharityEventDialog:Ge,JoinListDialog:Xe}},et=Ze,tt=(a("60b4"),Object(s["a"])(et,Ce,Be,!1,null,"65fddd71",null));tt.options.__file="CharityEventList.vue";var at=tt.exports,nt=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[n("el-option",{attrs:{label:"全部",value:-1}}),t._l(t.typeList,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{placeholder:"名称",size:"small"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",[n("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:t.refresh}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(e){t.doAdd()}}},[t._v("添加")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,"element-loading-text":"正在加载......"}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t._f("date_filter")(e.row.create_date)))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"创建人"}},[t._v(t._s(e.row.user_name))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"备注"}},[t._v(t._s(e.row.remark))])],1)],1)],1)]}}])}),n("el-table-column",{attrs:{prop:"id",label:"编号"}}),n("el-table-column",{attrs:{prop:"type_name",label:"类型"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"count",label:"数量"}}),n("el-table-column",{attrs:{prop:"ca_name",label:"捐赠人"}}),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("category_status_filter")(e.row.status))+"\n            ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doDelete(e.row)}}},[t._v("删除")])],1)]}}])})],1),n("br"),t.total>0?n("div",{staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{small:"",layout:"sizes,prev, pager, next","current-page":t.page,total:t.total,"page-sizes":[10,15,20,100],"page-size":t.size},on:{"current-change":function(t){e.page=t,e.refresh()},"size-change":function(t){e.size=t,e.refresh()}}})],1):t._e(),n("CategoryDialog",{ref:"dialog",attrs:{refresh:t.refresh}})],1)},rt=[],lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称",size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数量",prop:"count"}},[a("el-input-number",{attrs:{size:"small",min:1,max:999999999,label:"数量"},model:{value:e.form.count,callback:function(t){e.$set(e.form,"count",t)},expression:"form.count"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"捐助人",prop:"c_id"}},[a("el-select",{attrs:{size:"small",filterable:"",remote:"","reserve-keyword":"",placeholder:"捐助人","remote-method":e.queryCharityList,loading:e.loading},model:{value:e.form.c_id,callback:function(t){e.$set(e.form,"c_id",t)},expression:"form.c_id"}},e._l(e.charityList,function(e){return a("el-option",{key:e.id,attrs:{label:e.charity_name,value:e.id}})}))],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注",size:"small",type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)],1)},ot=[],it={props:["refresh"],data:function(){return{title:"",form:this.initForm(),dialogMode:"save",show:!1,rules:{type:[{required:!0,message:"请选择类型",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"}],count:[{required:!0,message:"请输入数量",trigger:"blur"}],c_id:[{required:!0,message:"请选择捐助人",trigger:"blur"}]},typeList:[],charityList:[],loading:!1}},created:function(){this.loadTypes(2)},methods:{queryCharityList:function(e){var t=this;t.loading=!0,t.$http.post("/api/charity/queryList",JSON.stringify({charity_name:e,category:1})).then(function(e){t.charityList=e.data,t.loading=!1}).catch(function(e){t.$message.error("获取行善方类型："+e),t.loading=!1})},loadTypes:function(e){var t=this;t.$http.post("/api/dict/queryList",JSON.stringify({type:e})).then(function(e){t.typeList=e.data}).catch(function(e){t.$message.error("获取物资类型："+e)})},save:function(){var e=this;this.$refs["form"].validate(function(t){t&&e.$http.post("/api/category/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}).catch(function(t){e.$message.error(e.title+"出错!"+t)})})},initForm:function(){return{id:null,type:null,name:null,count:null,create_date:null,author:null,remark:null,c_id:null,status:null}},addDialog:function(){this.title="新增捐助物资",this.dialogMode="save",this.form=this.initForm(),this.show=!0},editDialog:function(e){this.title="修改捐助物资",this.dialogMode="update",this.form=Object(y["a"])({},e),this.show=!0}},components:{}},st=it,ct=(a("893c"),Object(s["a"])(st,lt,ot,!1,null,null,null));ct.options.__file="CategoryDialog.vue";var ut=ct.exports,dt={data:function(){return{total:0,page:1,size:20,dataList:[],form:{id:null,type:null,name:null,count:null,create_date:null,author:null,remark:null,c_id:null,status:null},typeList:[],loading:!1}},computed:{},created:function(){this.refresh(),this.loadTypes(2)},methods:{loadTypes:function(e){var t=this;t.$http.post("/api/dict/queryList",JSON.stringify({type:e})).then(function(e){t.typeList=e.data}).catch(function(e){t.$message.error("获取受善方类型："+res)})},refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form,{page:e.page-1,size:e.size});e.$http.post("/api/category/queryPage",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data.content,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取捐助物资列表失败："+t),e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/category/delete",{params:{id:e.id}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){console.error(e),a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{CategoryDialog:ut}},ft=dt,mt=(a("9f11"),Object(s["a"])(ft,nt,rt,!1,null,null,null));mt.options.__file="CategoryList.vue";var pt=mt.exports,ht=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"行善方类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[n("el-option",{attrs:{label:"全部",value:-1}}),t._l(t.typeList,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1),n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{attrs:{placeholder:"姓名",size:"small"},model:{value:t.form.charity_name,callback:function(e){t.$set(t.form,"charity_name",e)},expression:"form.charity_name"}})],1),n("el-form-item",{attrs:{label:"手机号"}},[n("el-input",{attrs:{placeholder:"手机号",size:"small"},model:{value:t.form.phone_no,callback:function(e){t.$set(t.form,"phone_no",e)},expression:"form.phone_no"}})],1),n("el-form-item",[n("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:t.refresh}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(e){t.doAdd()}}},[t._v("添加")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,"element-loading-text":"正在加载......"}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"地址"}},[t._v(t._s(e.row.address))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t._f("date_filter")(e.row.create_date)))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"创建人"}},[t._v(t._s(e.row.author))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"备注"}},[t._v(t._s(e.row.remark))])],1)],1)],1)]}}])}),n("el-table-column",{attrs:{prop:"id",label:"编号"}}),n("el-table-column",{attrs:{prop:"type_name",label:"类型"}}),n("el-table-column",{attrs:{prop:"charity_name",label:"姓名"}}),n("el-table-column",{attrs:{prop:"phone_no",label:"手机号"}}),n("el-table-column",{attrs:{prop:"gender",label:"性别"}}),n("el-table-column",{attrs:{prop:"dept_name",label:"所属机构"}}),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(0==e.row.status?"正常":"禁用")+"\n            ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")])],1)]}}])})],1),n("br"),t.total>0?n("div",{staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{small:"",layout:"sizes,prev, pager, next","current-page":t.page,total:t.total,"page-sizes":[10,15,20,100],"page-size":t.size},on:{"current-change":function(t){e.page=t,e.refresh()},"size-change":function(t){e.size=t,e.refresh()}}})],1):t._e(),n("CharityDialog",{ref:"dialog",attrs:{refresh:t.refresh,type:3,titleName:"行善方",category:1}})],1)},gt=[],vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"charity_name"}},[a("el-input",{attrs:{placeholder:"机构/个人名称",size:"small"},model:{value:e.form.charity_name,callback:function(t){e.$set(e.form,"charity_name",t)},expression:"form.charity_name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone_no"}},[a("el-input",{attrs:{placeholder:"联系电话",size:"small"},model:{value:e.form.phone_no,callback:function(t){e.$set(e.form,"phone_no",t)},expression:"form.phone_no"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"个人性别",prop:"gender"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"个人性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"联系地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"联系地址",size:"small"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{placeholder:"备注",type:"textarea",size:"small"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)],1)},bt=[],_t={props:["refresh","type","titleName","category"],data:function(){return{title:"",form:this.initForm(),dialogMode:"save",show:!1,rules:{type:[{required:!0,message:"请选择类型",trigger:"blur"}],charity_name:[{required:!0,message:"请输入名称",trigger:"blur"}],phone_no:[{required:!0,message:"请输入联系方式",trigger:"blur"}]},deptLists:[],typeList:[]}},created:function(){this.loadTypes(this.type)},methods:{loadTypes:function(e){var t=this;t.$http.post("/api/dict/queryList",JSON.stringify({type:e})).then(function(e){t.typeList=e.data}).catch(function(e){t.$message.error("获取类型："+res)})},save:function(){var e=this;this.$refs["form"].validate(function(t){t&&(e.form=Object(y["a"])({},e.form,{category:e.category}),e.$http.post("/api/charity/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}).catch(function(t){e.$message.error(e.title+"出错!"+t)}))})},initForm:function(){return{id:null,type:null,charity_name:null,phone_no:null,gender:null,address:null,create_date:null,author:null,remark:null,p_id:0,category:null,status:null}},addDialog:function(){this.title="新增"+this.titleName,this.dialogMode="save",this.form=this.initForm(),this.show=!0},editDialog:function(e){this.title="修改"+this.titleName,this.dialogMode="update",this.form=Object(y["a"])({},e),this.show=!0}},components:{}},yt=_t,wt=(a("1697"),Object(s["a"])(yt,vt,bt,!1,null,null,null));wt.options.__file="CharityDialog.vue";var xt=wt.exports,kt={data:function(){return{total:0,page:1,size:20,dataList:[],form:{id:null,type:null,charity_name:null,phone_no:null,gender:null,address:null,create_date:null,author:null,remark:null,p_id:null,category:1,status:null},typeList:[],loading:!1}},computed:{},created:function(){this.refresh(),this.loadTypes(3)},methods:{loadTypes:function(e){var t=this;t.$http.post("/api/dict/queryList",JSON.stringify({type:e})).then(function(e){t.typeList=e.data}).catch(function(e){t.$message.error("获取慈善方类型："+res)})},refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form,{page:e.page-1,size:e.size});-1==t.type&&(t.type=null),t.type_type=3,e.$http.post("/api/charity/queryPage",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data.content,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取慈善方列表失败："+t),e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/charity/delete",{params:{id:e.id}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{CharityDialog:xt}},$t=kt,jt=(a("273b"),Object(s["a"])($t,ht,gt,!1,null,null,null));jt.options.__file="CharityList.vue";var Dt=jt.exports,zt=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("el-form",{attrs:{inline:!0}},[n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"受善方类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[n("el-option",{attrs:{label:"全部",value:-1}}),t._l(t.typeList,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})],2)],1),n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{attrs:{placeholder:"姓名",size:"small"},model:{value:t.form.charity_name,callback:function(e){t.$set(t.form,"charity_name",e)},expression:"form.charity_name"}})],1),n("el-form-item",{attrs:{label:"手机号"}},[n("el-input",{attrs:{placeholder:"手机号",size:"small"},model:{value:t.form.phone_no,callback:function(e){t.$set(t.form,"phone_no",e)},expression:"form.phone_no"}})],1),n("el-form-item",[n("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:t.refresh}},[t._v("查询")]),n("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(e){t.doAdd()}}},[t._v("添加")])],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,"element-loading-text":"正在加载......"}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"地址"}},[t._v(t._s(e.row.address))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t._f("date_filter")(e.row.create_date)))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"创建人"}},[t._v(t._s(e.row.author))])],1),n("el-col",{attrs:{span:6}},[n("el-form-item",{attrs:{label:"备注"}},[t._v(t._s(e.row.remark))])],1)],1)],1)]}}])}),n("el-table-column",{attrs:{prop:"id",label:"编号"}}),n("el-table-column",{attrs:{prop:"type_name",label:"类型"}}),n("el-table-column",{attrs:{prop:"charity_name",label:"姓名"}}),n("el-table-column",{attrs:{prop:"phone_no",label:"手机号"}}),n("el-table-column",{attrs:{prop:"gender",label:"性别"}}),n("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(0==e.row.status?"正常":"禁用")+"\n            ")]}}])}),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(a){t.doEdit(e.row)}}},[t._v("编辑")])],1)]}}])})],1),n("br"),t.total>0?n("div",{staticStyle:{"text-align":"right"}},[n("el-pagination",{attrs:{small:"",layout:"sizes,prev, pager, next","current-page":t.page,total:t.total,"page-sizes":[10,15,20,100],"page-size":t.size},on:{"current-change":function(t){e.page=t,e.refresh()},"size-change":function(t){e.size=t,e.refresh()}}})],1):t._e(),n("CharityDialog",{ref:"dialog",attrs:{refresh:t.refresh,type:4,titleName:"受善方",category:2}})],1)},St=[],Lt={data:function(){return{total:0,page:1,size:20,dataList:[],form:{id:null,type:null,charity_name:null,phone_no:null,gender:null,address:null,create_date:null,author:null,remark:null,p_id:null,category:2,status:null},typeList:[],loading:!1}},computed:{},created:function(){this.refresh(),this.loadTypes(4)},methods:{loadTypes:function(e){var t=this;t.$http.post("/api/dict/queryList",JSON.stringify({type:e})).then(function(e){t.typeList=e.data}).catch(function(e){t.$message.error("获取受善方类型："+res)})},refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form,{page:e.page-1,size:e.size});-1==t.type&&(t.type=null),t.type_type=4,e.$http.post("/api/charity/queryPage",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data.content,e.total=t.data.totalElements}).catch(function(t){e.$message.error("获取受善方列表失败："+t),e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/charity/delete",{params:{id:e.id}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{CharityDialog:xt}},Ot=Lt,Et=(a("2a4a"),Object(s["a"])(Ot,zt,St,!1,null,null,null));Et.options.__file="DiffList.vue";var Nt=Et.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"活动类型名称",size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:e.refresh}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(t){e.doAdd()}}},[e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,"element-loading-text":"正在加载......"}},[a("el-table-column",{attrs:{prop:"id",label:"主键"}}),a("el-table-column",{attrs:{prop:"name",label:"活动类型名称"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.doEdit(t.row)}}},[e._v("编辑")])],1)]}}])})],1),a("DictDialog",{ref:"dialog",attrs:{refresh:e.refresh,type:e.form.type,titleName:"活动类型"}})],1)},Tt=[],Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.show,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.show=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:e.titleName,prop:"name"}},[a("el-input",{attrs:{placeholder:e.titleName},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("div",{staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.show=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.save()}}},[e._v("确定")])],1)],1)},At=[],Ft={props:["refresh","titleName","type"],data:function(){return{title:"",form:this.initForm(),dialogMode:"save",show:!1,rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},methods:{save:function(){var e=this;this.$refs["form"].validate(function(t){t&&e.$http.post("/api/dict/"+e.dialogMode,JSON.stringify(e.form)).then(function(t){e.show=!1,e.$message.success(e.title+"成功!"),e.refresh()}).catch(function(t){e.$message.error(e.title+"出错!"+t)})})},initForm:function(){return{id:null,type:this.type,name:null}},addDialog:function(){this.title="新增"+this.titleName,this.dialogMode="save",this.form=this.initForm(),this.show=!0},editDialog:function(e){this.title="修改"+this.titleName,this.dialogMode="update",this.form=Object(y["a"])({},e),this.show=!0}},components:{}},Jt=Ft,Ct=(a("517f"),Object(s["a"])(Jt,Mt,At,!1,null,null,null));Ct.options.__file="DictDialog.vue";var Bt=Ct.exports,Rt={data:function(){return{dataList:[],form:{id:null,type:1,name:null},loading:!1}},computed:{},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form);e.$http.post("/api/dict/queryList",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data}).catch(function(t){e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/dict/delete",{params:{ids:[e.id]}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{DictDialog:Bt}},Pt=Rt,Ut=(a("ea3b"),Object(s["a"])(Pt,qt,Tt,!1,null,null,null));Ut.options.__file="EventTypeList.vue";var It=Ut.exports,Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"行善方类型名称",size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:e.refresh}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(t){e.doAdd()}}},[e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,"element-loading-text":"正在加载......"}},[a("el-table-column",{attrs:{prop:"id",label:"主键"}}),a("el-table-column",{attrs:{prop:"name",label:"行善方类型名称"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.doEdit(t.row)}}},[e._v("编辑")])],1)]}}])})],1),a("DictDialog",{ref:"dialog",attrs:{refresh:e.refresh,type:e.form.type,titleName:"行善方类型"}})],1)},Gt=[],Ht={data:function(){return{dataList:[],form:{id:null,type:3,name:null},loading:!1}},computed:{},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form);e.$http.post("/api/dict/queryList",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data}).catch(function(t){e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/dict/delete",{params:{ids:[e.id]}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{DictDialog:Bt}},Kt=Ht,Qt=(a("907e"),Object(s["a"])(Kt,Yt,Gt,!1,null,null,null));Qt.options.__file="CharityTypeList.vue";var Vt=Qt.exports,Wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"受善方类型名称",size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:e.refresh}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(t){e.doAdd()}}},[e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,"element-loading-text":"正在加载......"}},[a("el-table-column",{attrs:{prop:"id",label:"主键"}}),a("el-table-column",{attrs:{prop:"name",label:"受善方类型名称"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.doEdit(t.row)}}},[e._v("编辑")])],1)]}}])})],1),a("DictDialog",{ref:"dialog",attrs:{refresh:e.refresh,type:e.form.type,titleName:"受善方类型"}})],1)},Xt=[],Zt={data:function(){return{dataList:[],form:{id:null,type:4,name:null},loading:!1}},computed:{},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form);e.$http.post("/api/dict/queryList",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data}).catch(function(t){e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/dict/delete",{params:{ids:[e.id]}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{DictDialog:Bt}},ea=Zt,ta=(a("b602"),Object(s["a"])(ea,Wt,Xt,!1,null,null,null));ta.options.__file="DiffTypeList.vue";var aa=ta.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{attrs:{placeholder:"物资类型名称",size:"small"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"search",title:"根据输入的条件查询",size:"small"},on:{click:e.refresh}},[e._v("查询")]),a("el-button",{attrs:{type:"primary",icon:"plus",title:"添加",size:"small"},on:{click:function(t){e.doAdd()}}},[e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,"element-loading-text":"正在加载......"}},[a("el-table-column",{attrs:{prop:"id",label:"主键"}}),a("el-table-column",{attrs:{prop:"name",label:"物资类型名称"}}),a("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.doEdit(t.row)}}},[e._v("编辑")])],1)]}}])})],1),a("DictDialog",{ref:"dialog",attrs:{refresh:e.refresh,type:e.form.type,titleName:"物资类型"}})],1)},ra=[],la={data:function(){return{dataList:[],form:{id:null,type:2,name:null},loading:!1}},computed:{},created:function(){this.refresh()},methods:{refresh:function(){var e=this;e.loading=!0;var t=Object(y["a"])({},e.form);e.$http.post("/api/dict/queryList",JSON.stringify(t)).then(function(t){e.loading=!1,e.dataList=t.data}).catch(function(t){e.loading=!1})},doAdd:function(){this.$refs["dialog"].addDialog()},doEdit:function(e){this.$refs["dialog"].editDialog(e)},doDelete:function(e){var t=this,a=this;this.$confirm("你确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$http.delete("/api/dict/delete",{params:{ids:[e.id]}}).then(function(e){t.$message.success("删除成功"),a.refresh()}).catch(function(e){a.$message.error("删除失败："+e)})}).catch(function(){})}},components:{DictDialog:Bt}},oa=la,ia=(a("9e53"),Object(s["a"])(oa,na,ra,!1,null,null,null));ia.options.__file="ResTypeList.vue";var sa=ia.exports;n["default"].use(d["a"]);var ca=new d["a"]({routes:[{path:"/",component:v,name:"首页",redirect:"/event",children:[{path:"settings",component:v,name:"设置",children:[{path:"adminSysUser",component:I,name:"用户管理"},{path:"adminDept",component:ae,name:"部门管理"},{path:"adminRole",component:De,name:"角色管理"},{path:"adminMenu",component:Je,name:"菜单管理"},{path:"event_type",component:It,name:"活动类型"},{path:"res_type",component:sa,name:"资源类型"},{path:"charity_type",component:Vt,name:"行善方类型"},{path:"diff_type",component:aa,name:"受善方类型"}]},{path:"event",component:at,name:"活动记录"},{path:"categorylist",component:pt,name:"物资管理"},{path:"charitylist",component:Dt,name:"行善方管理"},{path:"difflist",component:Nt,name:"受善方管理"}]}]}),ua=a("2f62");n["default"].use(ua["a"]);var da=new ua["a"].Store({state:{},mutations:{},actions:{}}),fa=a("5c96"),ma=a.n(fa),pa=(a("0fae"),a("323e")),ha=a.n(pa),ga=a("c1df"),va=a.n(ga),ba=function(e){return 1==e?"男":2==e?"女":3==e?"未知":4==e?"保密":""};function _a(e){if(null!=e)return new va.a(e).format("YYYY-MM-DD")}function ya(e){if(null!=e)return new va.a(e).format("YYYY-MM-DD HH:mm:ss")}function wa(e){return 0==e?"未使用":1==e?"已使用":"丢失"}function xa(e){return 0==e?"筹备中":1==e?"进行中":2==e?"已取消":4==e?"已结束":void 0}var ka=function(e){e.filter("gender_filter",ba),e.filter("date_filter",_a),e.filter("date_time_filter",ya),e.filter("category_status_filter",wa),e.filter("event_status_filter",xa)},$a=a("8683");n["default"].use(ma.a),ka(n["default"]),Object($a["a"])(n["default"]),n["default"].config.productionTip=!0,ca.beforeEach(function(e,t,a){ha.a.start(),a()}),ca.afterEach(function(e){ha.a.done()}),new n["default"]({router:ca,store:da,render:function(e){return e(u)}}).$mount("#app")},"60b4":function(e,t,a){"use strict";var n=a("b619"),r=a.n(n);r.a},6352:function(e,t,a){},6842:function(e,t,a){},"68d0":function(e,t,a){},"6fff":function(e,t,a){},"70b1":function(e,t,a){"use strict";var n=a("6fff"),r=a.n(n);r.a},"757a":function(e,t,a){},"76e4":function(e,t,a){},"7c55":function(e,t,a){"use strict";var n=a("d3dd"),r=a.n(n);r.a},"7f24":function(e,t,a){},"80af":function(e,t,a){"use strict";var n=a("5075"),r=a.n(n);r.a},8497:function(e,t,a){"use strict";var n=a("a51e"),r=a.n(n);r.a},8683:function(e,t,a){"use strict";a("cadf"),a("551c"),a("097d");var n=a("bc3a"),r=a.n(n),l=a("5c96");r.a.defaults.headers.post["Content-Type"]="application/json";var o=r.a.create({validateStatus:function(e){return 200==e||400==e}});o.interceptors.response.use(function(e){return 400==e.status||500==e.status?(l["Message"].error(e.data.error),void(e.data=null)):200==e.status&&e.data.errorMsg?void l["Message"].error(e.data.errorMsg):e},function(e){return"Network Error"===e.message&&l["MessageBox"].alert("回话过期，请重新登录","提示",{confirmButtonText:"确定",callback:function(){window.location.href="/"}}),Promise.reject(e)});var i=o,s={install:function(e,t){e.$http=i,e.prototype.$http=i}};t["a"]=function(e){e.use(s)}},"893c":function(e,t,a){"use strict";var n=a("1178"),r=a.n(n);r.a},"8f27":function(e,t,a){},"907e":function(e,t,a){"use strict";var n=a("50c2"),r=a.n(n);r.a},"966c":function(e,t,a){},"970b":function(e,t,a){"use strict";var n=a("d0ce"),r=a.n(n);r.a},"995c":function(e,t,a){},"9a32":function(e,t,a){"use strict";var n=a("1f59"),r=a.n(n);r.a},"9d6c":function(e,t,a){"use strict";var n=a("757a"),r=a.n(n);r.a},"9e53":function(e,t,a){"use strict";var n=a("b6c7"),r=a.n(n);r.a},"9f11":function(e,t,a){"use strict";var n=a("6842"),r=a.n(n);r.a},a51e:function(e,t,a){},a967:function(e,t,a){"use strict";var n=a("68d0"),r=a.n(n);r.a},a9a8:function(e,t,a){"use strict";var n=a("4d50"),r=a.n(n);r.a},b602:function(e,t,a){"use strict";var n=a("2ee0"),r=a.n(n);r.a},b619:function(e,t,a){},b6c7:function(e,t,a){},ba40:function(e,t,a){},bcbf:function(e,t,a){},bdd9:function(e,t,a){"use strict";var n=a("76e4"),r=a.n(n);r.a},ce91:function(e,t,a){"use strict";var n=a("ba40"),r=a.n(n);r.a},d0ce:function(e,t,a){},d3dd:function(e,t,a){},db86:function(e,t,a){},dc3a:function(e,t,a){"use strict";var n=a("995c"),r=a.n(n);r.a},de8e:function(e,t,a){"use strict";var n=a("db86"),r=a.n(n);r.a},ea3b:function(e,t,a){"use strict";var n=a("6352"),r=a.n(n);r.a}});